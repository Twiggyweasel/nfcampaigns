<%= form_for([@event, @attendee]) do |f| %>
  <%= f.hidden_field(:category, :value => 'Personal') %>
  <%= f.hidden_field(:user_id, :value => current_user.id) %>
  <% if @attendee.errors.any? %>
    <%= render "shared/errors", errors: @attendee.errors %>
  <% end %>

  <div class='row mt-1'>
    <div class='col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4'>
      <div class='card'>
        <div class='card-block'>
          <div class='row' id='personal-fields'>
            <div class='col-lg-10 offset-lg-1'>
              <h5>Registration for <%= current_user.name.titleize %></h5>
                <div class='row my-2'>
                  <div class='col-12'>
                    <%= f.label :fee, "Registration Type" %>
                    <%= f.select(:fee, options_for_select(@event.registration_fees.is_personal.collect {|x| [x.name + ' - $' + x.amount.to_s + '0', x.amount]}, f.object.fee), {prompt: 'Select One'}, class: 'form-control') %>
                  </div>
                </div>
                <div class='row my-2'>
                  <div class='col-12'>
                    <%= f.label :shirt_size %>
                    <%= f.select( :shirt_size, options_for_select(@event.sizes.collect {|x| [x.label, x.label] }), {prompt: 'Select a Size'}, class: 'form-control form-control-success') %>
                  </div>
                </div>
                <div class='row my-2'>
                  <div class='col-12'>
                    <%= f.label :team_id, "Choose a Team" %>
                    <%= f.select( :team_id, options_for_select(@event.teams.collect {|x| [x.name, x.id] }), {}, class: 'form-control') %>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div> 
    </div>
  </div>
  <!--<#%= f.fields_for :guests do |ff| %>-->
  <!--<div class='row mt-1 guest' id='guest<#%= ff.options[:child_index] %>' style='display:none'>-->
  <!--  <div class='col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4'>-->
  <!--    <div class='card'>-->
  <!--      <div class='card-block'>-->
  <!--        <button type="button" class="close float-right" id='<#%= ff.options[:child_index] %>' aria-label="Close">-->
  <!--          <span aria-hidden="true">&times;</span>-->
  <!--        </button> -->
  <!--        <br />-->
  <!--        <div class='row'>-->
  <!--          <div class='col-lg-10 offset-lg-1'>-->
  <!--            <#%= ff.label :name, "Guest's Name" %>-->
  <!--            <#%= ff.text_field :name, class: 'form-control' %>              -->
  <!--          </div>-->
  <!--        </div>-->
  <!--        <div class='row'>-->
  <!--          <div class='col-lg-10 offset-lg-1'>-->
  <!--            <#%= ff.label :email, "Guest's Email" %>-->
  <!--            <#%= ff.email_field :email, class: 'form-control' %>              -->
  <!--          </div>-->
  <!--        </div>-->
  <!--        <div class='row'>-->
  <!--          <div class='col-lg-10 offset-lg-1'>-->
  <!--            <#%= ff.label :fee, "Registration Type" %>-->
  <!--            <#%= ff.select(:fee, options_for_select(@event.registration_fees.collect {|x| [x.name + ' - $' + x.amount.to_s + '0', x.amount]}), {:prompt => 'Select One'}, class: 'form-control') %>              -->
  <!--          </div>-->
  <!--        </div>          -->
  <!--        <div class='row'>-->
  <!--          <div class='col-lg-10 offset-lg-1'>-->
  <!--            <#%= ff.label :shirt_size %>-->
  <!--            <#%= ff.select( :shirt_size, options_for_select(@event.sizes.collect {|x| [x.label, x.label] }), {prompt: 'Select a Size'}, class: 'form-control') %>-->
  <!--          </div>-->
  <!--        </div>  -->
  <!--      </div>-->
  <!--    </div> -->
  <!--  </div>-->
  <!--</div>-->
  <!--<#% end %>-->
  <!--<#% if @attendee.new_record? %>-->
  <!--<div class='row mt-1' id='addGuestRow'>-->
  <!--  <div class='col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4'>-->
  <!--    <div class='card'>-->
  <!--      <div class='card-block text-center'>-->
  <!--        <div class='row'>-->
  <!--          <div class='col-md-6 offset-md-3'>-->
  <!--            <button class='btn btn-primary btn-block mt-2' id='addGuest'>Add a Guest</button>-->
  <!--          </div>-->
  <!--        </div>-->
  <!--      </div>-->
  <!--    </div>-->
  <!--  </div>-->
  <!--</div>-->
  <!--<#% end %>-->
   <div class='row mt-1'>
    <div class='col-md-8 offset-md-2 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4'>
      <div class='card'>
        <div class='card-block'>
          <div class='row'>
            <div class='col-md-6 my-3'>
              <%= f.submit "Submit", class: 'btn btn-success btn-block' %>
            </div>
            <div class='col-md-6 my-3'>
              <%= link_to "Cancel", :back, class: 'btn btn-danger btn-block' %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



<% end %>

<!--<script>
//   var guestCount = 0;
//   var guestMax = 5;
//   var guests = $('.guest');
  
//   console.log(guests[1]);
//   console.log(guestCount);
//   $("#addGuest").click(function( event ) {
//     event.preventDefault();
//     if(guestCount < guestMax) {
//       $(guests[guestCount]).fadeIn();
//       guestCount += 1;
//       console.log(guestCount);
//     }
    
//     if(guestCount == guestMax) {
//       $("#addGuestRow").hide();
//     }

//   });
  
//   $(".close").click(function(){
//     $(this).parents().find('div#guest' + $(this).attr('id')).hide();
//     guestCount -= 1;
//     if(guestCount < guestMax) {
//       $("#addGuestRow").show();
//     }
//   });

// </script>-->
